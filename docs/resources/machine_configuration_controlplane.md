---
page_title: "talos_machine_configuration_controlplane Resource - terraform-provider-talos"
subcategory: ""
description: |-
  Generate machine configuration for a Talos control plane node.
---

# talos_machine_configuration_controlplane (Resource)

Generate machine configuration for a Talos control plane node.

## Example Usage

```terraform
resource "talos_machine_secrets" "machine_secrets" {}

resource "talos_client_configuration" "talosconfig" {
  cluster_name    = "example-cluster"
  machine_secrets = talos_machine_secrets.machine_secrets.machine_secrets
  endpoints       = ["10.5.0.2"]
}

resource "talos_machine_configuration_controlplane" "machineconfig_cp" {
  cluster_name     = talos_client_configuration.talosconfig.cluster_name
  cluster_endpoint = "https://cluster.local:6443"
  machine_secrets  = talos_machine_secrets.machine_secrets.machine_secrets
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_endpoint` (String) The endpoint of the Talos cluster
- `cluster_name` (String) The name of the cluster in the generated config
- `machine_secrets` (String) The machine secrets for the cluster

### Optional

- `config_patches` (List of String) config patches to apply to the generated config
- `config_version` (String) the desired machine config version to generate (the `version` field of the generated config, currently `v1alpha1`)
- `docs_enabled` (Boolean) whether to render all machine configs adding the documentation for each field
- `examples_enabled` (Boolean) whether to render all machine configs with the commented examples
- `kubernetes_version` (String) desired kubernetes version to run
- `talos_version` (String) The version of Talos for which to generate configs. **Note**: This parameter defines the machine config schema version generated. To override the installer image (and actually install a different version of talos than the default) please use a config patch.

### Read-Only

- `id` (String) The ID of this resource.
- `machine_config` (String, Sensitive) the generated control plane config
